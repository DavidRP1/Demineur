// Raby-Pepin, David & Wang, Xiaoqian
// 05-11-2018
// Description du programme

////////////////////////////////////////////////////////////////////////////////

load("images.js");


var coordTuiles = function(coordX, coordY){
    coordX = Math.floor(coordX/16);
    coordY = Math.floor(coordY/16);
    return ([coordX, coordY]);
};

var obtenirImageNumbre = function(x,y,tableauMines){
    // si c'est une mine, utilise image 9
    if(tableauMines[y][x] == true)
        return 9;
    
    //ce n'est pas une mine, donc
    //compter la numbre de mines autour de cette position
    var mines = 0;
    var positionX = [x - 1, x, x + 1];
    var positionY = [y - 1, y, y + 1];
    
    for(var i = 0 ; i < positionX.length; i++){
        for(var j = 0; j < positionY.length; j++){
            var posX = positionX[i];
            var posY = positionY[j];
            if(0 <= posX && posX < tableauMines[0].length
               && 0 <= posY && posY < tableauMines.length){
                mines = tableauMines[posY][posX] == true ? mines + 1 : mines;
            }
        }
    }
    return mines;
};

var demineur = function(largeur, hauteur, nbMines){
    
	// verifie que les entrees sont valides
    var condLargeur = (largeur>0 && largeur===+largeur);
	var condHauteur = (hauteur>0 && hauteur===+hauteur);
	var condMines = (nbMines>=0 && nbMines<largeur*hauteur && nbMines===+nbMines);
	
    if (!condLargeur || !condHauteur || !condMines){
		alert ("Veuillez entrer des parametres valides!");
		return;
	}
	
	setScreenMode(largeur*16, hauteur*16);
    
    //Dessiner intielement
    for(var i = 0; i < largeur; i++){
        for(var j = 0; j < hauteur; j++){
            afficherImage(i * 16, j * 16, colormap, images[11]);
        }
    }
    
    var positionClic = attendreClic();
    
    var tableauMines = placerMines(largeur, hauteur, nbMines, positionClic.x, positionClic.y);
	
	
	var tuilesCachees = largeur*hauteur;

	
    while (true){ 
		
		if(tableauMines[positionClic.y][positionClic.x] == false){
            //Redessiner les champs
            var numbreImage = obtenirImageNumbre(positionClic.x, positionClic.y, tableauMines);
            
            if(numbreImage != 0){
                afficherImage(positionClic.x * 16, positionClic.y * 16, colormap, images[numbreImage]);
				if (tableauMines[positionClic.y][positionClic.x] != "devoilee"){
					tableauMines[positionClic.y][positionClic.x] = "devoilee"
					tuilesCachees--;
				}
			} else {
                //Si le joueur clique sur une tuile qui n’est pas une mine,
                //les tuiles directement voisines ne contiennent pas de mine,
                //alors les tuiles directement voisines sont devoilees en plus de la tuile cliquee
                var positionX = [positionClic.x - 1, positionClic.x, positionClic.x + 1];
                var positionY = [positionClic.y - 1, positionClic.y, positionClic.y + 1];
                for(var i = 0 ; i < positionX.length; i++){
                    for(var j = 0; j < positionY.length; j++){
                        var posX = positionX[i];
                        var posY = positionY[j];
                        if(0<=posX && posX<tableauMines[0].length
                           && 0<=posY && posY<tableauMines.length){
                            var numbreImage = obtenirImageNumbre(posX, posY, tableauMines);
                            afficherImage(posX * 16, posY * 16, colormap, images[numbreImage]);
							if (tableauMines[posY][posX] != "devoilee"){
								tableauMines[posY][posX] = "devoilee"
								tuilesCachees--;
							}
                        }
                    }
                }
            }
			if (tuilesCachees == nbMines){
				// laisser le temps d'afficher l'image finale avant le message de victoire
                pause(0.01); 
				alert ("Vous avez gagne!");
				break;
			}
			
        } else {
            //si le joueur clique sur une mine
            //Redessiner le map
            for(var i = 0; i < tableauMines.length; i++){
                var rang = tableauMines[i];
                for(var j = 0; j < rang.length; j++){
                    if(tableauMines[i][j] == true) {
                        if(j == positionClic.x && i == positionClic.y){
                            //Dessiner la mine en rouge
                            afficherImage(j * 16, i * 16, colormap, images[10]);
                        } else {//Pour afficher les mines seulement
                            afficherImage(j * 16, i * 16, colormap, images[9]);
                        }
                    }
                }
            }
            pause(0.01); // laisser le temps d'afficher l'image finale avant le message d'echec
			alert ("Vous avez perdu!");
			break;
        }
        
        positionClic = attendreClic();

    }
    
};

var attendreClic = function(){
    var clic = getMouse().down;
    
    while (clic == true){
        pause(0.01);
        clic = getMouse().down;
    }
    
    while (clic == false){
        pause(0.01);
        clic = getMouse().down;
    }
    
    var coord = coordTuiles(getMouse().x, getMouse().y);
    
    return({x: coord[0], y: coord[1]});
};



var placerMines = function(largeur, hauteur, nbMines, x, y){
    
    var coordClic = [x,y];
    
    var rangeeMines = [];
    var tableauMines = [];
    
	// verifie que les entrees sont valides
    var condLargeur = (largeur>0 && largeur===+largeur);
	var condHauteur = (hauteur>0 && hauteur===+hauteur);
	var condX = (x>=0 && x<largeur && x===+x);
    var condY = (y>=0 && y<hauteur && y===+y);
	var condMines = (nbMines>=0 && nbMines<largeur*hauteur && nbMines===+nbMines);
	
    if (condLargeur && condHauteur && condX && condY && condMines){
		if (nbMines < ((hauteur*largeur)-1)){
			
			for (var i=0; i<hauteur; i++){
				for (var j=0; j<largeur; j++){
					rangeeMines.push(false);
				}
				
				tableauMines.push(rangeeMines);
				rangeeMines = [];
			}
			
			var k=0;
			while (k < nbMines){
				var xMine = Math.floor(Math.random()*largeur);
				var yMine = Math.floor(Math.random()*hauteur);
				var coordMine = [xMine, yMine];
				
				if ((tableauMines[yMine][xMine] == false) && ((coordClic+"") != (coordMine+""))){
					tableauMines[yMine][xMine] = true;
					k++;
				}
			}
		} else if (nbMines == ((hauteur*largeur)-1)){
			
			for (var i=0; i<hauteur; i++){
				for (var j=0; j<largeur; j++){
					rangeeMines.push(true);
				}
				
				tableauMines.push(rangeeMines);
				rangeeMines = [];
			}
			
			tableauMines[coordClic[1]][coordClic[0]] = false;
		}
		
		return (tableauMines);
		
	  // s'il y a une invalidite dans les entrees, retourner un tableau vide	
	} else {	
		return ([]);
    }
};



// procedure qui affiche a l’ecran a la coordonnee (x,y) l’image indiquee par le
// parametre image qui utilise des couleurs definies par le parametre colormap
var afficherImage = function(x, y, colormap, image){
    
    // verifie que les entrees x et y sont valides
    var condX = (x>=0 && x<=getScreenWidth() && x===+x);
    var condY = (y>=0 && y<=getScreenHeight() && y===+y);
    
    //si les entrees sont valides, l'image est affichee
    if (condX && condY){
        for(var i = 0; i <image.length; i++ ){
            var rang = image[i];
            for(var j = 0; j < rang.length; j++){
                var color = colormap[rang[j]];
                setPixel(x+j, y+i, color);
            }
        }
    }
};




// tests unitaires de la procedure afficherImage et la fonction placerMines
var testDemineur = function(){
    
    // Nous nous limitons a un ecran de 32X32 pixels pour les tests
    setScreenMode(32,32);

   	assert (exportScreen(afficherImage(0,0,colormap,images[11])) == "#ffffff#ffffff#ffffff#ffffff#ffffff#ffffff#ffffff#ffffff#ffffff#ffffff#ffffff#ffffff#ffffff#ffffff#ffffff#c0c0c0#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000\n#ffffff#ffffff#ffffff#ffffff#ffffff#ffffff#ffffff#ffffff#ffffff#ffffff#ffffff#ffffff#ffffff#ffffff#c0c0c0#808080#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000\n#ffffff#ffffff#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#808080#808080#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000\n#ffffff#ffffff#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#808080#808080#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000\n#ffffff#ffffff#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#808080#808080#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000\n#ffffff#ffffff#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#808080#808080#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000\n#ffffff#ffffff#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#808080#808080#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000\n#ffffff#ffffff#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#808080#808080#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000\n#ffffff#ffffff#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#808080#808080#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000\n#ffffff#ffffff#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#808080#808080#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000\n#ffffff#ffffff#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#808080#808080#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000\n#ffffff#ffffff#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#808080#808080#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000\n#ffffff#ffffff#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#808080#808080#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000\n#ffffff#ffffff#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#808080#808080#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000\n#ffffff#c0c0c0#808080#808080#808080#808080#808080#808080#808080#808080#808080#808080#808080#808080#808080#808080#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000\n#c0c0c0#808080#808080#808080#808080#808080#808080#808080#808080#808080#808080#808080#808080#808080#808080#808080#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000\n#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000\n#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000\n#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000\n#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000\n#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000\n#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000\n#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000\n#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000\n#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000\n#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000\n#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000\n#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000\n#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000\n#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000\n#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000\n#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000");
    assert (exportScreen(afficherImage(16,16,colormap,images[0])) == "#ffffff#ffffff#ffffff#ffffff#ffffff#ffffff#ffffff#ffffff#ffffff#ffffff#ffffff#ffffff#ffffff#ffffff#ffffff#c0c0c0#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000\n#ffffff#ffffff#ffffff#ffffff#ffffff#ffffff#ffffff#ffffff#ffffff#ffffff#ffffff#ffffff#ffffff#ffffff#c0c0c0#808080#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000\n#ffffff#ffffff#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#808080#808080#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000\n#ffffff#ffffff#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#808080#808080#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000\n#ffffff#ffffff#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#808080#808080#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000\n#ffffff#ffffff#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#808080#808080#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000\n#ffffff#ffffff#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#808080#808080#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000\n#ffffff#ffffff#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#808080#808080#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000\n#ffffff#ffffff#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#808080#808080#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000\n#ffffff#ffffff#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#808080#808080#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000\n#ffffff#ffffff#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#808080#808080#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000\n#ffffff#ffffff#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#808080#808080#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000\n#ffffff#ffffff#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#808080#808080#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000\n#ffffff#ffffff#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#808080#808080#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000\n#ffffff#c0c0c0#808080#808080#808080#808080#808080#808080#808080#808080#808080#808080#808080#808080#808080#808080#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000\n#c0c0c0#808080#808080#808080#808080#808080#808080#808080#808080#808080#808080#808080#808080#808080#808080#808080#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000\n#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#808080#808080#808080#808080#808080#808080#808080#808080#808080#808080#808080#808080#808080#808080#808080#808080\n#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#808080#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0\n#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#808080#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0\n#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#808080#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0\n#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#808080#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0\n#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#808080#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0\n#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#808080#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0\n#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#808080#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0\n#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#808080#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0\n#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#808080#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0\n#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#808080#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0\n#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#808080#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0\n#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#808080#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0\n#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#808080#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0\n#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#808080#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0\n#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#808080#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0");
    assert (exportScreen(afficherImage(16,16,colormap,images[10])) == "#ffffff#ffffff#ffffff#ffffff#ffffff#ffffff#ffffff#ffffff#ffffff#ffffff#ffffff#ffffff#ffffff#ffffff#ffffff#c0c0c0#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000\n#ffffff#ffffff#ffffff#ffffff#ffffff#ffffff#ffffff#ffffff#ffffff#ffffff#ffffff#ffffff#ffffff#ffffff#c0c0c0#808080#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000\n#ffffff#ffffff#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#808080#808080#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000\n#ffffff#ffffff#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#808080#808080#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000\n#ffffff#ffffff#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#808080#808080#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000\n#ffffff#ffffff#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#808080#808080#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000\n#ffffff#ffffff#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#808080#808080#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000\n#ffffff#ffffff#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#808080#808080#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000\n#ffffff#ffffff#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#808080#808080#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000\n#ffffff#ffffff#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#808080#808080#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000\n#ffffff#ffffff#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#808080#808080#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000\n#ffffff#ffffff#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#808080#808080#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000\n#ffffff#ffffff#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#808080#808080#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000\n#ffffff#ffffff#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#808080#808080#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000\n#ffffff#c0c0c0#808080#808080#808080#808080#808080#808080#808080#808080#808080#808080#808080#808080#808080#808080#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000\n#c0c0c0#808080#808080#808080#808080#808080#808080#808080#808080#808080#808080#808080#808080#808080#808080#808080#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000\n#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#808080#808080#808080#808080#808080#808080#808080#808080#808080#808080#808080#808080#808080#808080#808080#808080\n#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#808080#ff0000#ff0000#ff0000#ff0000#ff0000#ff0000#ff0000#ff0000#ff0000#ff0000#ff0000#ff0000#ff0000#ff0000#ff0000\n#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#808080#ff0000#ff0000#ff0000#ff0000#ff0000#ff0000#ff0000#000000#ff0000#ff0000#ff0000#ff0000#ff0000#ff0000#ff0000\n#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#808080#ff0000#ff0000#ff0000#ff0000#ff0000#ff0000#ff0000#000000#ff0000#ff0000#ff0000#ff0000#ff0000#ff0000#ff0000\n#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#808080#ff0000#ff0000#ff0000#000000#ff0000#000000#000000#000000#000000#000000#ff0000#000000#ff0000#ff0000#ff0000\n#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#808080#ff0000#ff0000#ff0000#ff0000#000000#000000#000000#000000#000000#000000#000000#ff0000#ff0000#ff0000#ff0000\n#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#808080#ff0000#ff0000#ff0000#000000#000000#ffffff#ffffff#000000#000000#000000#000000#000000#ff0000#ff0000#ff0000\n#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#808080#ff0000#ff0000#ff0000#000000#000000#ffffff#ffffff#000000#000000#000000#000000#000000#ff0000#ff0000#ff0000\n#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#808080#ff0000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#ff0000\n#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#808080#ff0000#ff0000#ff0000#000000#000000#000000#000000#000000#000000#000000#000000#000000#ff0000#ff0000#ff0000\n#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#808080#ff0000#ff0000#ff0000#000000#000000#000000#000000#000000#000000#000000#000000#000000#ff0000#ff0000#ff0000\n#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#808080#ff0000#ff0000#ff0000#ff0000#000000#000000#000000#000000#000000#000000#000000#ff0000#ff0000#ff0000#ff0000\n#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#808080#ff0000#ff0000#ff0000#000000#ff0000#000000#000000#000000#000000#000000#ff0000#000000#ff0000#ff0000#ff0000\n#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#808080#ff0000#ff0000#ff0000#ff0000#ff0000#ff0000#ff0000#000000#ff0000#ff0000#ff0000#ff0000#ff0000#ff0000#ff0000\n#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#808080#ff0000#ff0000#ff0000#ff0000#ff0000#ff0000#ff0000#000000#ff0000#ff0000#ff0000#ff0000#ff0000#ff0000#ff0000\n#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#808080#ff0000#ff0000#ff0000#ff0000#ff0000#ff0000#ff0000#ff0000#ff0000#ff0000#ff0000#ff0000#ff0000#ff0000#ff0000");
    assert (exportScreen(afficherImage(-32,16,colormap,images[10])) == "#ffffff#ffffff#ffffff#ffffff#ffffff#ffffff#ffffff#ffffff#ffffff#ffffff#ffffff#ffffff#ffffff#ffffff#ffffff#c0c0c0#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000\n#ffffff#ffffff#ffffff#ffffff#ffffff#ffffff#ffffff#ffffff#ffffff#ffffff#ffffff#ffffff#ffffff#ffffff#c0c0c0#808080#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000\n#ffffff#ffffff#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#808080#808080#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000\n#ffffff#ffffff#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#808080#808080#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000\n#ffffff#ffffff#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#808080#808080#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000\n#ffffff#ffffff#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#808080#808080#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000\n#ffffff#ffffff#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#808080#808080#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000\n#ffffff#ffffff#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#808080#808080#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000\n#ffffff#ffffff#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#808080#808080#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000\n#ffffff#ffffff#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#808080#808080#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000\n#ffffff#ffffff#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#808080#808080#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000\n#ffffff#ffffff#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#808080#808080#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000\n#ffffff#ffffff#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#808080#808080#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000\n#ffffff#ffffff#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#808080#808080#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000\n#ffffff#c0c0c0#808080#808080#808080#808080#808080#808080#808080#808080#808080#808080#808080#808080#808080#808080#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000\n#c0c0c0#808080#808080#808080#808080#808080#808080#808080#808080#808080#808080#808080#808080#808080#808080#808080#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000\n#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#808080#808080#808080#808080#808080#808080#808080#808080#808080#808080#808080#808080#808080#808080#808080#808080\n#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#808080#ff0000#ff0000#ff0000#ff0000#ff0000#ff0000#ff0000#ff0000#ff0000#ff0000#ff0000#ff0000#ff0000#ff0000#ff0000\n#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#808080#ff0000#ff0000#ff0000#ff0000#ff0000#ff0000#ff0000#000000#ff0000#ff0000#ff0000#ff0000#ff0000#ff0000#ff0000\n#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#808080#ff0000#ff0000#ff0000#ff0000#ff0000#ff0000#ff0000#000000#ff0000#ff0000#ff0000#ff0000#ff0000#ff0000#ff0000\n#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#808080#ff0000#ff0000#ff0000#000000#ff0000#000000#000000#000000#000000#000000#ff0000#000000#ff0000#ff0000#ff0000\n#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#808080#ff0000#ff0000#ff0000#ff0000#000000#000000#000000#000000#000000#000000#000000#ff0000#ff0000#ff0000#ff0000\n#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#808080#ff0000#ff0000#ff0000#000000#000000#ffffff#ffffff#000000#000000#000000#000000#000000#ff0000#ff0000#ff0000\n#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#808080#ff0000#ff0000#ff0000#000000#000000#ffffff#ffffff#000000#000000#000000#000000#000000#ff0000#ff0000#ff0000\n#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#808080#ff0000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#ff0000\n#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#808080#ff0000#ff0000#ff0000#000000#000000#000000#000000#000000#000000#000000#000000#000000#ff0000#ff0000#ff0000\n#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#808080#ff0000#ff0000#ff0000#000000#000000#000000#000000#000000#000000#000000#000000#000000#ff0000#ff0000#ff0000\n#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#808080#ff0000#ff0000#ff0000#ff0000#000000#000000#000000#000000#000000#000000#000000#ff0000#ff0000#ff0000#ff0000\n#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#808080#ff0000#ff0000#ff0000#000000#ff0000#000000#000000#000000#000000#000000#ff0000#000000#ff0000#ff0000#ff0000\n#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#808080#ff0000#ff0000#ff0000#ff0000#ff0000#ff0000#ff0000#000000#ff0000#ff0000#ff0000#ff0000#ff0000#ff0000#ff0000\n#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#808080#ff0000#ff0000#ff0000#ff0000#ff0000#ff0000#ff0000#000000#ff0000#ff0000#ff0000#ff0000#ff0000#ff0000#ff0000\n#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#808080#ff0000#ff0000#ff0000#ff0000#ff0000#ff0000#ff0000#ff0000#ff0000#ff0000#ff0000#ff0000#ff0000#ff0000#ff0000");
    assert (exportScreen(afficherImage("g",0,colormap,images[8])) == "#ffffff#ffffff#ffffff#ffffff#ffffff#ffffff#ffffff#ffffff#ffffff#ffffff#ffffff#ffffff#ffffff#ffffff#ffffff#c0c0c0#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000\n#ffffff#ffffff#ffffff#ffffff#ffffff#ffffff#ffffff#ffffff#ffffff#ffffff#ffffff#ffffff#ffffff#ffffff#c0c0c0#808080#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000\n#ffffff#ffffff#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#808080#808080#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000\n#ffffff#ffffff#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#808080#808080#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000\n#ffffff#ffffff#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#808080#808080#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000\n#ffffff#ffffff#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#808080#808080#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000\n#ffffff#ffffff#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#808080#808080#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000\n#ffffff#ffffff#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#808080#808080#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000\n#ffffff#ffffff#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#808080#808080#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000\n#ffffff#ffffff#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#808080#808080#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000\n#ffffff#ffffff#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#808080#808080#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000\n#ffffff#ffffff#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#808080#808080#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000\n#ffffff#ffffff#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#808080#808080#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000\n#ffffff#ffffff#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#c0c0c0#808080#808080#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000\n#ffffff#c0c0c0#808080#808080#808080#808080#808080#808080#808080#808080#808080#808080#808080#808080#808080#808080#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000\n#c0c0c0#808080#808080#808080#808080#808080#808080#808080#808080#808080#808080#808080#808080#808080#808080#808080#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000\n#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#808080#808080#808080#808080#808080#808080#808080#808080#808080#808080#808080#808080#808080#808080#808080#808080\n#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#808080#ff0000#ff0000#ff0000#ff0000#ff0000#ff0000#ff0000#ff0000#ff0000#ff0000#ff0000#ff0000#ff0000#ff0000#ff0000\n#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#808080#ff0000#ff0000#ff0000#ff0000#ff0000#ff0000#ff0000#000000#ff0000#ff0000#ff0000#ff0000#ff0000#ff0000#ff0000\n#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#808080#ff0000#ff0000#ff0000#ff0000#ff0000#ff0000#ff0000#000000#ff0000#ff0000#ff0000#ff0000#ff0000#ff0000#ff0000\n#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#808080#ff0000#ff0000#ff0000#000000#ff0000#000000#000000#000000#000000#000000#ff0000#000000#ff0000#ff0000#ff0000\n#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#808080#ff0000#ff0000#ff0000#ff0000#000000#000000#000000#000000#000000#000000#000000#ff0000#ff0000#ff0000#ff0000\n#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#808080#ff0000#ff0000#ff0000#000000#000000#ffffff#ffffff#000000#000000#000000#000000#000000#ff0000#ff0000#ff0000\n#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#808080#ff0000#ff0000#ff0000#000000#000000#ffffff#ffffff#000000#000000#000000#000000#000000#ff0000#ff0000#ff0000\n#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#808080#ff0000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#ff0000\n#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#808080#ff0000#ff0000#ff0000#000000#000000#000000#000000#000000#000000#000000#000000#000000#ff0000#ff0000#ff0000\n#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#808080#ff0000#ff0000#ff0000#000000#000000#000000#000000#000000#000000#000000#000000#000000#ff0000#ff0000#ff0000\n#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#808080#ff0000#ff0000#ff0000#ff0000#000000#000000#000000#000000#000000#000000#000000#ff0000#ff0000#ff0000#ff0000\n#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#808080#ff0000#ff0000#ff0000#000000#ff0000#000000#000000#000000#000000#000000#ff0000#000000#ff0000#ff0000#ff0000\n#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#808080#ff0000#ff0000#ff0000#ff0000#ff0000#ff0000#ff0000#000000#ff0000#ff0000#ff0000#ff0000#ff0000#ff0000#ff0000\n#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#808080#ff0000#ff0000#ff0000#ff0000#ff0000#ff0000#ff0000#000000#ff0000#ff0000#ff0000#ff0000#ff0000#ff0000#ff0000\n#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#000000#808080#ff0000#ff0000#ff0000#ff0000#ff0000#ff0000#ff0000#ff0000#ff0000#ff0000#ff0000#ff0000#ff0000#ff0000#ff0000");
    
    assert (placerMines(6, 8, 40, 2, 1)[1][2] == false);
    assert (placerMines(6, 8, 47, 5, 4)[4][5] == false);
    assert (placerMines(6, 8, 48, 5, 4).length == 0);
    assert (placerMines(6, 8, 72, 5, 4).length == 0);
    assert (placerMines(6, 8, 47, 5, 4).length == 8);
    assert (placerMines(6, 8, 47, 5, 4)[0].length == 6);
    assert (placerMines(6, 8, "a", 5, 4).length == 0);
    assert (placerMines(6, 8, 30, 100, 4).length == 0);
    
    //reinitialisation de l'ecran apres les tests
    setScreenMode(32,32);
};

testDemineur();
